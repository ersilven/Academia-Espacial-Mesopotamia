/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/@creativebulma/bulma-collapsible@1.0.4/src/js/index.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Component from"./utils/component";import*as dom from"./utils/dom";import*as type from"./utils/type";import*as utils from"./utils/index";import defaultOptions from"./defaultOptions";export default class bulmaCollapsible extends Component{constructor(t,i={}){super(t,i,defaultOptions),this.onTriggerClick=this.onTriggerClick.bind(this),this.onTransitionEnd=this.onTransitionEnd.bind(this),this._init()}static attach(t=".is-collapsible",i={}){return super.attach(t,i,defaultOptions)}_init(){if(this._originalHeight=this.element.style.height,this._parent=this.element.dataset.parent,this._parent){const t=this.options.container.querySelector(`#${this._parent}`);this._siblings=dom.querySelectorAll(this.options.selector,t)||[]}this._triggers=this.options.container.querySelectorAll(`[data-action="collapse"][href="#${this.element.id}"], [data-action="collapse"][data-target="${this.element.id}"]`)||null,this._triggers&&this._triggers.on("click touch",this.onTriggerClick),this._transitionEvent=utils.whichTransitionEvent(),this._transitionEvent&&this.element.on(this._transitionEvent,this.onTransitionEnd),this.element.classList.contains("is-active")?this.expand():this.collapse()}destroy(){this._triggers&&this._triggers.off("click touch",this.onTriggerClick,!1)}collapsed(){return this._collapsed}expand(){(void 0===this._collapsed||this._collapsed)&&(this.emit("before:expand",this),this._collapsed=!1,this._parent&&!type.BooleanParse(this.options.allowMultiple)&&this._siblings.forEach(t=>{t.isSameNode(this.element)||t.bulmaCollapsible&&t.bulmaCollapsible("close")}),this.element.style.height=this.element.scrollHeight+"px",this.element.classList.add("is-active"),this.element.setAttribute("aria-expanded",!0),this._triggers&&this._triggers.forEach(t=>{t.classList.add("is-active")}),this.emit("after:expand",this))}open(){this.expand()}collapse(){void 0!==this._collapsed&&this._collapsed||(this.emit("before:collapse",this),this._collapsed=!0,this.element.style.height=0,this.element.classList.remove("is-active"),this.element.setAttribute("aria-expanded",!1),this._triggers&&this._triggers.forEach(t=>{t.classList.remove("is-active")}),this.emit("after:collapse",this))}close(){this.collapse()}onTriggerClick(t){t.preventDefault(),this.collapsed()?(t.currentTarget.classList.add("is-active"),this.expand()):(t.currentTarget.classList.remove("is-active"),this.collapse())}onTransitionEnd(t){this._collapsed||(this.element.style.height=this._originalHeight)}}
//# sourceMappingURL=/sm/b6d598d15e668dd07bf06938bda6dccb019b898d19d649fbef76be23ce4ca09a.map